(this["webpackJsonpkuantum-test-front"]=this["webpackJsonpkuantum-test-front"]||[]).push([[0],{36:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(21),r=n.n(a),s=n(12),i=n(3),l=(n(36),n(0)),o=function(){return Object(l.jsxs)("div",{className:"sidebar",children:[Object(l.jsx)("div",{className:"logo_content",children:Object(l.jsxs)("div",{className:"logo",children:[Object(l.jsx)("i",{className:"bx bxl-kickstarter"}),Object(l.jsx)("div",{className:"logo_name",children:"Kuantum Test"})]})}),Object(l.jsxs)("ul",{className:"nav_list",children:[Object(l.jsx)("li",{children:Object(l.jsxs)(s.b,{activeClassName:"active",className:"navlink",exact:!0,to:"/",children:[Object(l.jsx)("i",{className:"bx bx-grid-alt"}),"Home"]})}),Object(l.jsx)("li",{children:Object(l.jsxs)(s.b,{activeClassName:"active",className:"navlink",exact:!0,to:"/devices",children:[Object(l.jsx)("i",{className:"bx bx-devices"}),"Devices"]})}),Object(l.jsx)("li",{children:Object(l.jsxs)(s.b,{activeClassName:"active",className:"navlink",exact:!0,to:"/devicelist",children:[Object(l.jsx)("i",{className:"bx bx-list-ul"}),"Device List"]})}),Object(l.jsx)("li",{children:Object(l.jsxs)(s.b,{activeClassName:"active",className:"navlink",exact:!0,to:"/alerts",children:[Object(l.jsx)("i",{className:"bx bxs-bell"}),"Alerts by Device"]})}),Object(l.jsx)("li",{children:Object(l.jsxs)(s.b,{activeClassName:"active",className:"navlink",exact:!0,to:"/alertlist",children:[Object(l.jsx)("i",{className:"bx bx-list-ul"}),"Alert List"]})})]})]})},u=n(2),j=n.n(u),d=n(6),b=n(5),m="http://localhost:4000/api/device",x="http://localhost:4000/api/alert",p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c="".concat(m,"/").concat(e);return"GET"===n?fetch(c):fetch(c,{method:n,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c="".concat(x,"/").concat(e);return"GET"===n?fetch(c):fetch(c,{method:n,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},O=n(15),f=n(16),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),n=Object(b.a)(t,2),a=n[0],r=n[1],s=function(){r(e)},i=function(e){var t=e.target;r(Object(f.a)(Object(f.a)({},a),{},Object(O.a)({},t.name,t.value)))};return[a,i,s]},N=n(7),g=n.n(N),y={uuid:"",value:0},k=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=v(y),s=Object(b.a)(r,2),i=s[0],o=s[1],u=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("");case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).ok&&a(n.devices);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h("new",i,"POST");case 3:return n=e.sent,e.next=6,n.json();case 6:(c=e.sent).ok?g.a.fire("Success",c.msg,"success"):g.a.fire("Error","An error occurred","error");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){u()}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{className:"title",children:"Simulated Alerts"}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("form",{onSubmit:m,children:[Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{className:"form-label",children:"Device"}),Object(l.jsxs)("select",{name:"uuid",className:"form-select",onChange:o,children:[Object(l.jsx)("option",{value:0,children:"Select Device"}),n.map((function(e,t){return Object(l.jsx)("option",{id:e.uuid,value:e.uuid,children:e.name},t)}))]})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{className:"form-label",children:"Value"}),Object(l.jsx)("input",{type:"number",className:"form-control",name:"value",onChange:o})]}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary form-control",children:"Simulate"})]})})]})})},_={uuid:"",name:"",description:"",alert_name:"",alert_type:"",value:0,min:0,max:0},C=function(){var e=v(_),t=Object(b.a)(e,3),n=t[0],c=t[1],a=t[2],r=function(){var e=Object(d.a)(j.a.mark((function e(t){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p("new",{uuid:n.uuid,name:n.name,description:n.description,alerts_config:{name:n.alert_name,alert_type:n.alert_type,value:n.value,range:{min:n.min,max:n.max}}},"POST");case 3:return c=e.sent,e.next=6,c.json();case 6:(r=e.sent).ok?g.a.fire("Success",r.msg,"success"):g.a.fire("Error","An error occurred","error"),a();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("h1",{className:"title_form",children:"Form Devices"}),Object(l.jsxs)("form",{children:[Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("label",{className:"input-group-text",children:"Uuid"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"uuid",name:"uuid",onChange:c,required:!0}),Object(l.jsx)("label",{className:"input-group-text",children:"Name"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",onChange:c,required:!0})]}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("label",{className:"input-group-text",children:"Description"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"description",name:"description",onChange:c,required:!0})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("h2",{className:"title_form",children:"Alerts Config"}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("label",{className:"input-group-text",children:"Name"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"alert_name",onChange:c,required:!0}),Object(l.jsx)("label",{className:"input-group-text",children:"Alert Type"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"alert_type",name:"alert_type",onChange:c,required:!0})]}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("label",{className:"input-group-text",children:"Value"}),Object(l.jsx)("input",{type:"number",className:"form-control",step:"0.01",id:"value",name:"value",onChange:c,required:!0}),Object(l.jsx)("span",{className:"input-group-text",children:"Range"}),Object(l.jsx)("input",{type:"number",className:"form-control",placeholder:"Min",step:"0.01",id:"min",name:"min",onChange:c,required:!0}),Object(l.jsx)("input",{type:"number",className:"form-control",placeholder:"Max",step:"0.01",id:"max",name:"max",onChange:c,required:!0})]})]}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary form-control",onClick:r,children:"Save"})]})]})})})},D=n(11),w=n.n(D),S=n(31),E=n.n(S);w.a.locale("es");var A={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},U={uuid:"",name:"",description:"",alert_name:"",alert_type:"",value:0,min:0,max:0},T=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(b.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(U),m=Object(b.a)(u,2),x=m[0],h=m[1],v=x.uuid,N=x.name,y=x.description,k=x.alert_name,_=x.alert_type,C=x.value,D=x.min,S=x.max,T=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("");case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).ok&&a(n.devices);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){T()}),[]);var M=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,e.next=3,h(Object(f.a)(Object(f.a)({},x),{},Object(O.a)({},n.name,n.value)));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p(t.target.value,{},"DELETE");case 3:return n=e.sent,e.next=6,n.json();case 6:(c=e.sent).ok&&(g.a.fire("Success",c.msg,"success"),T());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){h({uuid:e.uuid,name:e.name,description:e.description,alert_name:e.alerts_config.name,alert_type:e.alerts_config.alert_type,value:e.alerts_config.value,min:e.alerts_config.range.min,max:e.alerts_config.range.max}),o(!0)},I=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p(v,{uuid:v,name:N,description:y,alerts_config:{name:x.alert_name,alert_type:_,value:C,range:{min:D,max:S}}},"PUT");case 3:return n=e.sent,e.next=6,n.json();case 6:(c=e.sent).ok?g.a.fire("Success",c.msg,"success"):g.a.fire("Error","An error occurred","error"),T(),L();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function L(){o(!1)}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"col",children:"UUID"}),Object(l.jsx)("th",{scope:"col",children:"Name"}),Object(l.jsx)("th",{scope:"col",children:"Description"}),Object(l.jsx)("th",{scope:"col",children:"Created"}),Object(l.jsx)("th",{scope:"col",children:"Action"})]})}),Object(l.jsx)("tbody",{children:n.map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.uuid}),Object(l.jsx)("td",{children:e.name}),Object(l.jsx)("td",{children:e.description}),Object(l.jsx)("td",{children:w()(e.createdAt).format("hh:mm:ss DD/MM/YY")}),Object(l.jsxs)("td",{children:[Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){return F(e)},children:Object(l.jsx)("i",{className:"bx bxs-pencil bti"})}),Object(l.jsx)("button",{className:"btn btn-danger",name:"btnDelete",id:e.uuid,value:e.uuid,onClick:q,children:"X"})]})]},t)}))})]})}),Object(l.jsxs)(E.a,{isOpen:i,onRequestClose:L,style:A,contentLabel:"Edit Modal",className:"modal",overlayClassName:"modal-fondo",ariaHideApp:!1,children:[Object(l.jsx)("h2",{children:"Edit Device"}),Object(l.jsx)("hr",{}),Object(l.jsxs)("form",{className:"container",onSubmit:I,children:[Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("label",{className:"input-group-text",children:"Uuid"}),Object(l.jsx)("input",{type:"text",className:"form-control",readOnly:!0,id:"uuid",name:"uuid",value:v,onChange:M}),Object(l.jsx)("label",{className:"input-group-text",children:"Name"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:N,onChange:M})]}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("label",{className:"input-group-text",children:"Description"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"description",name:"description",value:y,onChange:M})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("h2",{className:"title_form",children:"Alerts Config"}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("label",{className:"input-group-text",children:"Name"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"alert_name",value:k,onChange:M}),Object(l.jsx)("label",{className:"input-group-text",children:"Alert Type"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"alert_type",name:"alert_type",value:_,onChange:M})]}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("label",{className:"input-group-text",children:"Value"}),Object(l.jsx)("input",{type:"number",className:"form-control",step:"0.01",id:"value",name:"value",value:C,onChange:M}),Object(l.jsx)("span",{className:"input-group-text",children:"Range"}),Object(l.jsx)("input",{type:"number",className:"form-control",placeholder:"Min",step:"0.01",id:"min",name:"min",value:D,onChange:M}),Object(l.jsx)("input",{type:"number",className:"form-control",placeholder:"Max",step:"0.01",id:"max",name:"max",value:S,onChange:M})]})]}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary form-control",children:"Submit"})]})]})]})},M=function(e){var t=e.value,n=e.alerts,c=e.handleDelete,a=n.filter((function(e){return e.deviceUuid===t}));return Object(l.jsx)(l.Fragment,{children:a.map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.uuid}),Object(l.jsx)("td",{children:e.deviceUuid}),Object(l.jsx)("td",{children:e.registered_value}),Object(l.jsx)("td",{children:e.alert_data.alert_type}),Object(l.jsx)("td",{children:w()(e.createdAt).format("hh:mm:ss DD/MM/YY")}),Object(l.jsx)("th",{children:Object(l.jsx)("button",{className:"btn btn-danger",name:"btnDelete",id:e.uuid,value:e.uuid,onClick:c,children:"X"})})]},t)}))})};w.a.locale("es");var q=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(b.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(0),m=Object(b.a)(u,2),x=m[0],O=m[1],f=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("");case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).ok&&o(n.devices);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("");case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).ok&&a(n.alerts);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){f(),v()}),[]);var N=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h(t.target.value,{},"DELETE");case 3:return n=e.sent,e.next=6,n.json();case 6:(c=e.sent).ok&&(g.a.fire("Success",c.msg,"success"),v());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("select",{className:"form-select",onChange:function(e){var t=e.target.value;O(t)},children:[Object(l.jsx)("option",{value:0,children:"Select Device"}),i.map((function(e,t){return Object(l.jsx)("option",{id:e.uuid,value:e.uuid,children:e.name},t)}))]}),Object(l.jsx)("br",{}),Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"col",children:"UUID"}),Object(l.jsx)("th",{scope:"col",children:"Device UUID"}),Object(l.jsx)("th",{scope:"col",children:"Registered Value"}),Object(l.jsx)("th",{scope:"col",children:"Alert Type"}),Object(l.jsx)("th",{scope:"col",children:"Created"}),Object(l.jsx)("th",{scope:"col",children:"Action"})]})}),Object(l.jsx)("tbody",{children:Object(l.jsx)(M,{value:x,alerts:n,handleDelete:N})})]})]})})};w.a.locale("es");var F=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("");case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).ok&&a(n.alerts);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){r()}),[]);var s=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h(t.target.value,{},"DELETE");case 3:return n=e.sent,e.next=6,n.json();case 6:(c=e.sent).ok&&(g.a.fire("Success",c.msg,"success"),r());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"col",children:"UUID"}),Object(l.jsx)("th",{scope:"col",children:"Device UUID"}),Object(l.jsx)("th",{scope:"col",children:"Registered Value"}),Object(l.jsx)("th",{scope:"col",children:"Alert Type"}),Object(l.jsx)("th",{scope:"col",children:"Created"}),Object(l.jsx)("th",{scope:"col",children:"Action"})]})}),Object(l.jsx)("tbody",{children:n.map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.uuid}),Object(l.jsx)("td",{children:e.deviceUuid}),Object(l.jsx)("td",{children:e.registered_value}),Object(l.jsx)("td",{children:e.alert_data.alert_type}),Object(l.jsx)("td",{children:w()(e.createdAt).format("hh:mm:ss DD/MM/YY")}),Object(l.jsx)("th",{children:Object(l.jsx)("button",{className:"btn btn-danger",name:"btnDelete",id:e.uuid,value:e.uuid,onClick:s,children:"X"})})]},t)}))})]})})})},I=(n(64),function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(o,{}),Object(l.jsx)("div",{className:"content",children:Object(l.jsxs)(i.d,{children:[Object(l.jsx)(i.b,{exact:!0,path:"/",component:k}),Object(l.jsx)(i.b,{exact:!0,path:"/devices",component:C}),Object(l.jsx)(i.b,{exact:!0,path:"/devicelist",component:T}),Object(l.jsx)(i.b,{exact:!0,path:"/alerts",component:q}),Object(l.jsx)(i.b,{exact:!0,path:"/alertlist",component:F}),Object(l.jsx)(i.a,{to:"/"})]})})]})}),L=function(){return Object(l.jsx)(s.a,{children:Object(l.jsx)("div",{children:Object(l.jsx)(i.d,{children:Object(l.jsx)(I,{})})})})},R=function(){return Object(l.jsx)(L,{})};r.a.render(Object(l.jsx)(R,{}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.2af3593a.chunk.js.map